[2023-03-13T19:30:43.179+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T19:30:43.191+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T19:30:43.192+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T19:30:43.192+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T19:30:43.192+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T19:30:43.213+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:00:18+00:00
[2023-03-13T19:30:43.216+0000] {standard_task_runner.py:55} INFO - Started process 34991 to run task
[2023-03-13T19:30:43.222+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:00:18+00:00', '--job-id', '19', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp13j_osfa']
[2023-03-13T19:30:43.224+0000] {standard_task_runner.py:83} INFO - Job 19: Subtask Chargement_des_données_in_ELK
[2023-03-13T19:30:43.289+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [running]> on host dev
[2023-03-13T19:30:43.359+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:00:18+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:00:18+00:00
[2023-03-13T19:30:43.361+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T19:30:43.362+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', '/usr/bin/logstash --path.config /etc/logstash/conf.d/data.conf']
[2023-03-13T19:30:43.370+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T19:30:43.372+0000] {subprocess.py:93} INFO - /usr/bin/bash: ligne 1: /usr/bin/logstash: Aucun fichier ou dossier de ce type
[2023-03-13T19:30:43.372+0000] {subprocess.py:97} INFO - Command exited with return code 127
[2023-03-13T19:30:43.383+0000] {taskinstance.py:1768} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/dev/airflow/airflow/lib/python3.10/site-packages/airflow/operators/bash.py", line 196, in execute
    raise AirflowException(
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 127.
[2023-03-13T19:30:43.388+0000] {taskinstance.py:1318} INFO - Marking task as UP_FOR_RETRY. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000018, start_date=20230313T193043, end_date=20230313T193043
[2023-03-13T19:30:43.410+0000] {standard_task_runner.py:100} ERROR - Failed to execute job 19 for task Chargement_des_données_in_ELK (Bash command failed. The command returned a non-zero exit code 127.; 34991)
[2023-03-13T19:30:43.432+0000] {local_task_job.py:208} INFO - Task exited with return code 1
[2023-03-13T19:30:43.453+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-13T19:41:16.481+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T19:41:16.493+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T19:41:16.494+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T19:41:16.494+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T19:41:16.494+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T19:41:16.519+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:00:18+00:00
[2023-03-13T19:41:16.524+0000] {standard_task_runner.py:55} INFO - Started process 36989 to run task
[2023-03-13T19:41:16.529+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:00:18+00:00', '--job-id', '67', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmplqpxy8a7']
[2023-03-13T19:41:16.531+0000] {standard_task_runner.py:83} INFO - Job 67: Subtask Chargement_des_données_in_ELK
[2023-03-13T19:41:16.597+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [running]> on host dev
[2023-03-13T19:41:16.665+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:00:18+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:00:18+00:00
[2023-03-13T19:41:16.667+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T19:41:16.668+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'bin/logstash --path.config /etc/logstash/conf.d/data.conf']
[2023-03-13T19:41:16.676+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T19:41:16.678+0000] {subprocess.py:93} INFO - /usr/bin/bash: ligne 1: bin/logstash: Aucun fichier ou dossier de ce type
[2023-03-13T19:41:16.679+0000] {subprocess.py:97} INFO - Command exited with return code 127
[2023-03-13T19:41:16.688+0000] {taskinstance.py:1768} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/dev/airflow/airflow/lib/python3.10/site-packages/airflow/operators/bash.py", line 196, in execute
    raise AirflowException(
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 127.
[2023-03-13T19:41:16.693+0000] {taskinstance.py:1318} INFO - Marking task as UP_FOR_RETRY. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000018, start_date=20230313T194116, end_date=20230313T194116
[2023-03-13T19:41:16.711+0000] {standard_task_runner.py:100} ERROR - Failed to execute job 67 for task Chargement_des_données_in_ELK (Bash command failed. The command returned a non-zero exit code 127.; 36989)
[2023-03-13T19:41:16.740+0000] {local_task_job.py:208} INFO - Task exited with return code 1
[2023-03-13T19:41:16.760+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-13T20:02:42.588+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T20:02:42.602+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T20:02:42.602+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T20:02:42.602+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T20:02:42.602+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T20:02:42.625+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:00:18+00:00
[2023-03-13T20:02:42.628+0000] {standard_task_runner.py:55} INFO - Started process 40757 to run task
[2023-03-13T20:02:42.632+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:00:18+00:00', '--job-id', '179', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmposawn2q0']
[2023-03-13T20:02:42.634+0000] {standard_task_runner.py:83} INFO - Job 179: Subtask Chargement_des_données_in_ELK
[2023-03-13T20:02:42.698+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [running]> on host dev
[2023-03-13T20:02:42.766+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:00:18+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:00:18+00:00
[2023-03-13T20:02:42.768+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T20:02:42.769+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'bin/logstash -f /home/dev/etc/logstash/conf.d/data.conf']
[2023-03-13T20:02:42.777+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T20:02:42.779+0000] {subprocess.py:93} INFO - /usr/bin/bash: ligne 1: bin/logstash: Aucun fichier ou dossier de ce type
[2023-03-13T20:02:42.779+0000] {subprocess.py:97} INFO - Command exited with return code 127
[2023-03-13T20:02:42.790+0000] {taskinstance.py:1768} ERROR - Task failed with exception
Traceback (most recent call last):
  File "/home/dev/airflow/airflow/lib/python3.10/site-packages/airflow/operators/bash.py", line 196, in execute
    raise AirflowException(
airflow.exceptions.AirflowException: Bash command failed. The command returned a non-zero exit code 127.
[2023-03-13T20:02:42.794+0000] {taskinstance.py:1318} INFO - Marking task as UP_FOR_RETRY. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000018, start_date=20230313T200242, end_date=20230313T200242
[2023-03-13T20:02:42.813+0000] {standard_task_runner.py:100} ERROR - Failed to execute job 179 for task Chargement_des_données_in_ELK (Bash command failed. The command returned a non-zero exit code 127.; 40757)
[2023-03-13T20:02:42.843+0000] {local_task_job.py:208} INFO - Task exited with return code 1
[2023-03-13T20:02:42.864+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-13T20:30:25.221+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T20:30:25.235+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-13T20:30:25.235+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T20:30:25.235+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T20:30:25.235+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T20:30:25.258+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:00:18+00:00
[2023-03-13T20:30:25.261+0000] {standard_task_runner.py:55} INFO - Started process 46402 to run task
[2023-03-13T20:30:25.265+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:00:18+00:00', '--job-id', '291', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpw1q71whd']
[2023-03-13T20:30:25.268+0000] {standard_task_runner.py:83} INFO - Job 291: Subtask Chargement_des_données_in_ELK
[2023-03-13T20:30:25.339+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [running]> on host dev
[2023-03-13T20:30:25.417+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:00:18+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:00:18+00:00
[2023-03-13T20:30:25.419+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T20:30:25.420+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T20:30:25.428+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T20:30:25.523+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T20:30:25.817+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T20:30:53.907+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T20:30:54.058+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:54,054][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T20:30:54.070+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:54,069][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T20:30:54.834+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:54,834][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T20:30:56.771+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:56,770][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T20:30:57.701+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:57,700][INFO ][org.reflections.Reflections] Reflections took 141 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T20:30:59.314+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:59,313][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T20:30:59.811+0000] {subprocess.py:93} INFO - [2023-03-13T20:30:59,809][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T20:31:00.031+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:00,031][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T20:31:00.097+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:00,096][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T20:31:00.101+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:00,100][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T20:31:00.366+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:00,364][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T20:31:00.411+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:00,411][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x1c5f79bb run>"}
[2023-03-13T20:31:01.716+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:01,715][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.3}
[2023-03-13T20:31:01.854+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:01,854][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T20:31:01.980+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:01,980][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T20:31:03.502+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:03,501][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.023828s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T20:31:03.712+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:03,712][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.032837s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T20:31:04.251+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:04,251][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.508034s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T20:31:12.411+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:12,410][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.379566s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T20:31:16.403+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:16,403][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.158743s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T20:31:19.931+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:19,930][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.188968s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T20:31:23.202+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:23,202][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.117525s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T20:31:25.907+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:25,907][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.077554s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T20:31:28.288+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:28,287][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T20:31:28.648+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:28,647][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T20:31:28.697+0000] {subprocess.py:93} INFO - [2023-03-13T20:31:28,696][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T20:31:28.843+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T20:31:28.873+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000018, start_date=20230313T203025, end_date=20230313T203128
[2023-03-13T20:31:28.925+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T20:31:28.941+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T09:24:41.959+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-14T09:24:41.972+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-14T09:24:41.972+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:24:41.972+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T09:24:41.973+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:24:41.994+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:00:18+00:00
[2023-03-14T09:24:41.998+0000] {standard_task_runner.py:55} INFO - Started process 24197 to run task
[2023-03-14T09:24:42.002+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:00:18+00:00', '--job-id', '535', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpnzse8t8i']
[2023-03-14T09:24:42.004+0000] {standard_task_runner.py:83} INFO - Job 535: Subtask Chargement_des_données_in_ELK
[2023-03-14T09:24:42.073+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [running]> on host dev
[2023-03-14T09:24:42.142+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:00:18+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:00:18+00:00
[2023-03-14T09:24:42.144+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T09:24:42.145+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T09:24:42.153+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T09:24:42.244+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T09:24:42.490+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T09:25:07.639+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T09:25:07.761+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:07,757][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T09:25:07.775+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:07,774][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T09:25:08.215+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:08,215][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T09:25:10.195+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:10,193][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T09:25:10.947+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:10,946][INFO ][org.reflections.Reflections] Reflections took 123 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T09:25:12.478+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:12,477][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T09:25:12.895+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:12,894][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T09:25:13.106+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:13,105][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T09:25:13.181+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:13,181][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T09:25:13.186+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:13,185][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T09:25:13.388+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:13,387][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T09:25:13.458+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:13,457][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x31aea4a2 run>"}
[2023-03-14T09:25:14.662+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:14,662][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.2}
[2023-03-14T09:25:14.769+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:14,768][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T09:25:14.882+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:14,881][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T09:25:16.329+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:16,328][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.024302s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T09:25:16.575+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:16,575][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.033825s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T09:25:17.124+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:17,124][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.516455s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-14T09:25:26.436+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:26,436][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.364608s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-14T09:25:32.644+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:32,644][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.338931s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-14T09:25:36.123+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:36,123][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.332557s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-14T09:25:39.043+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:39,042][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.164284s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-14T09:25:41.477+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:41,476][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.069910s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-14T09:25:43.321+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:43,321][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T09:25:43.503+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:43,502][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T09:25:43.545+0000] {subprocess.py:93} INFO - [2023-03-14T09:25:43,545][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T09:25:43.693+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T09:25:43.722+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000018, start_date=20230314T092441, end_date=20230314T092543
[2023-03-14T09:25:43.750+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T09:25:43.765+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:09:05.054+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-15T07:09:05.058+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [queued]>
[2023-03-15T07:09:05.059+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:09:05.059+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:09:05.059+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:09:05.070+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:00:18+00:00
[2023-03-15T07:09:05.072+0000] {standard_task_runner.py:55} INFO - Started process 117158 to run task
[2023-03-15T07:09:05.074+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:00:18+00:00', '--job-id', '658', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp0c98imkw']
[2023-03-15T07:09:05.075+0000] {standard_task_runner.py:83} INFO - Job 658: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:09:05.106+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:00:18+00:00 [running]> on host dev
[2023-03-15T07:09:05.139+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:00:18+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:00:18+00:00
[2023-03-15T07:09:05.140+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:09:05.140+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:09:05.144+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:09:05.180+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:09:05.314+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:09:17.929+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:09:17.985+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:17,984][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:09:17.991+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:17,990][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:09:18.203+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:18,203][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:09:19.025+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:19,025][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:09:19.470+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:19,469][INFO ][org.reflections.Reflections] Reflections took 70 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:09:20.167+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,167][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:09:20.363+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,362][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:09:20.456+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,456][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:09:20.487+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,487][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:09:20.489+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,489][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:09:20.582+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,582][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:09:20.608+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:20,607][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x2ff9c78f run>"}
[2023-03-15T07:09:21.125+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:21,125][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.52}
[2023-03-15T07:09:21.191+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:21,190][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:09:21.248+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:21,247][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:09:22.021+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:22,021][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.011183s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:09:22.100+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:22,100][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.001766s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:09:22.539+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:22,538][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:09:22.796+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:22,796][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:09:22.819+0000] {subprocess.py:93} INFO - [2023-03-15T07:09:22,819][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:09:22.871+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:09:22.884+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000018, start_date=20230315T070905, end_date=20230315T070922
[2023-03-15T07:09:22.904+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:09:22.909+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
