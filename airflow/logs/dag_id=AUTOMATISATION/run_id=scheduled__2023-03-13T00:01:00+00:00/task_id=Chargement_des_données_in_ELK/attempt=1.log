[2023-03-13T20:51:27.080+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [queued]>
[2023-03-13T20:51:27.095+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [queued]>
[2023-03-13T20:51:27.095+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T20:51:27.096+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T20:51:27.096+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T20:51:27.118+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:00+00:00
[2023-03-13T20:51:27.122+0000] {standard_task_runner.py:55} INFO - Started process 51251 to run task
[2023-03-13T20:51:27.127+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:00+00:00', '--job-id', '319', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpjmheolrx']
[2023-03-13T20:51:27.129+0000] {standard_task_runner.py:83} INFO - Job 319: Subtask Chargement_des_données_in_ELK
[2023-03-13T20:51:27.209+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [running]> on host dev
[2023-03-13T20:51:27.294+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:00+00:00
[2023-03-13T20:51:27.296+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T20:51:27.297+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T20:51:27.306+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T20:51:27.417+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T20:51:27.854+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T20:51:53.929+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T20:51:54.080+0000] {subprocess.py:93} INFO - [2023-03-13T20:51:54,076][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T20:51:54.094+0000] {subprocess.py:93} INFO - [2023-03-13T20:51:54,093][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T20:51:54.753+0000] {subprocess.py:93} INFO - [2023-03-13T20:51:54,752][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T20:51:56.794+0000] {subprocess.py:93} INFO - [2023-03-13T20:51:56,788][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T20:51:57.720+0000] {subprocess.py:93} INFO - [2023-03-13T20:51:57,720][INFO ][org.reflections.Reflections] Reflections took 130 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T20:51:59.406+0000] {subprocess.py:93} INFO - [2023-03-13T20:51:59,405][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T20:52:00.035+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:00,031][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T20:52:00.322+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:00,322][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T20:52:00.385+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:00,385][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T20:52:00.389+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:00,389][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T20:52:00.626+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:00,625][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T20:52:00.667+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:00,666][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x52971c1e run>"}
[2023-03-13T20:52:01.838+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:01,837][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.17}
[2023-03-13T20:52:02.053+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:02,053][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T20:52:02.167+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:02,166][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T20:52:03.919+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:03,919][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.032372s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T20:52:04.204+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:04,204][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.062371s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T20:52:04.661+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:04,661][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.423779s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T20:52:13.096+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:13,095][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.544586s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T20:52:18.920+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:18,920][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.389310s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T20:52:22.714+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:22,714][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.141048s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T20:52:31.642+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:31,642][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.141823s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T20:52:34.108+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:34,108][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.127827s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T20:52:36.765+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:36,765][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.127012s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-13T20:52:39.966+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:39,965][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.120187s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-13T20:52:42.398+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:42,397][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.114400s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-13T20:52:45.162+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:45,162][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.130745s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-13T20:52:48.166+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:48,166][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.176977s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-13T20:52:53.102+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:53,102][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.142494s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-13T20:52:59.353+0000] {subprocess.py:93} INFO - [2023-03-13T20:52:59,353][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.211499s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-13T20:53:08.485+0000] {subprocess.py:93} INFO - [2023-03-13T20:53:08,485][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.181244s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-13T20:53:11.779+0000] {subprocess.py:93} INFO - [2023-03-13T20:53:11,779][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.232021s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-13T20:53:15.640+0000] {subprocess.py:93} INFO - [2023-03-13T20:53:15,640][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.238289s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-13T20:53:20.631+0000] {subprocess.py:93} INFO - [2023-03-13T20:53:20,630][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T20:53:21.043+0000] {subprocess.py:93} INFO - [2023-03-13T20:53:21,042][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T20:53:21.092+0000] {subprocess.py:93} INFO - [2023-03-13T20:53:21,091][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T20:53:21.278+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T20:53:21.314+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000100, start_date=20230313T205127, end_date=20230313T205321
[2023-03-13T20:53:21.356+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T20:53:21.370+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T09:44:07.796+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [queued]>
[2023-03-14T09:44:07.808+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [queued]>
[2023-03-14T09:44:07.809+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:44:07.809+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T09:44:07.809+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:44:07.831+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:00+00:00
[2023-03-14T09:44:07.834+0000] {standard_task_runner.py:55} INFO - Started process 28654 to run task
[2023-03-14T09:44:07.838+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:00+00:00', '--job-id', '563', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp7md4rhpn']
[2023-03-14T09:44:07.840+0000] {standard_task_runner.py:83} INFO - Job 563: Subtask Chargement_des_données_in_ELK
[2023-03-14T09:44:07.909+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [running]> on host dev
[2023-03-14T09:44:07.979+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:00+00:00
[2023-03-14T09:44:07.980+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T09:44:07.981+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T09:44:07.989+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T09:44:08.088+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T09:44:08.368+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T09:44:31.987+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T09:44:32.165+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:32,161][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T09:44:32.181+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:32,180][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T09:44:32.781+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:32,780][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T09:44:34.682+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:34,680][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T09:44:35.479+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:35,478][INFO ][org.reflections.Reflections] Reflections took 145 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T09:44:37.278+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:37,278][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T09:44:37.788+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:37,786][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T09:44:38.069+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:38,069][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T09:44:38.149+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:38,148][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T09:44:38.154+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:38,153][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T09:44:38.631+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:38,630][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T09:44:38.744+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:38,744][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x25791918 run>"}
[2023-03-14T09:44:40.234+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:40,233][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.48}
[2023-03-14T09:44:40.437+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:40,437][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T09:44:40.534+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:40,533][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T09:44:42.451+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:42,451][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.030145s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T09:44:42.716+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:42,716][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.079782s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T09:44:43.435+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:43,435][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.650034s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-14T09:44:57.558+0000] {subprocess.py:93} INFO - [2023-03-14T09:44:57,558][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.487764s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-14T09:45:04.089+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:04,089][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.358886s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-14T09:45:11.049+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:11,049][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.197962s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-14T09:45:15.691+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:15,690][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.160454s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-14T09:45:20.159+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:20,159][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.220815s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-14T09:45:24.963+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:24,963][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.182063s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-14T09:45:28.451+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:28,451][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.159942s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-14T09:45:31.566+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:31,566][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.140827s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-14T09:45:38.643+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:38,643][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.210641s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-14T09:45:42.390+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:42,390][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.173845s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-14T09:45:46.396+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:46,395][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.190911s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-14T09:45:51.594+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:51,593][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.182343s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-14T09:45:54.884+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:54,884][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.211665s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-14T09:45:57.667+0000] {subprocess.py:93} INFO - [2023-03-14T09:45:57,667][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.151496s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-14T09:46:00.807+0000] {subprocess.py:93} INFO - [2023-03-14T09:46:00,807][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.120796s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-14T09:46:02.823+0000] {subprocess.py:93} INFO - [2023-03-14T09:46:02,822][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T09:46:03.179+0000] {subprocess.py:93} INFO - [2023-03-14T09:46:03,178][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T09:46:03.240+0000] {subprocess.py:93} INFO - [2023-03-14T09:46:03,240][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T09:46:03.403+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T09:46:03.439+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000100, start_date=20230314T094407, end_date=20230314T094603
[2023-03-14T09:46:03.473+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T09:46:03.487+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:13:55.872+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [queued]>
[2023-03-15T07:13:55.877+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [queued]>
[2023-03-15T07:13:55.877+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:13:55.877+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:13:55.877+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:13:55.887+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:00+00:00
[2023-03-15T07:13:55.889+0000] {standard_task_runner.py:55} INFO - Started process 119816 to run task
[2023-03-15T07:13:55.891+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:00+00:00', '--job-id', '687', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp5n9cdgsd']
[2023-03-15T07:13:55.892+0000] {standard_task_runner.py:83} INFO - Job 687: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:13:55.922+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:00+00:00 [running]> on host dev
[2023-03-15T07:13:55.956+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:00+00:00
[2023-03-15T07:13:55.957+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:13:55.958+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:13:55.963+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:13:56.000+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:13:56.134+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:14:07.354+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:14:07.429+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:07,427][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:14:07.437+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:07,436][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:14:07.691+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:07,691][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:14:08.577+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:08,568][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:14:09.007+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:09,007][INFO ][org.reflections.Reflections] Reflections took 50 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:14:09.734+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:09,733][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:14:09.961+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:09,959][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:14:10.092+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,092][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:14:10.123+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,123][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:14:10.125+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,125][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:14:10.235+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,235][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:14:10.254+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,254][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x4a1deb45 run>"}
[2023-03-15T07:14:10.799+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,799][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.54}
[2023-03-15T07:14:10.847+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,847][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:14:10.902+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:10,902][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:14:11.644+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:11,643][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.011064s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:14:11.727+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:11,727][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.001358s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:14:12.181+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:12,181][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:14:12.450+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:12,450][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:14:12.473+0000] {subprocess.py:93} INFO - [2023-03-15T07:14:12,473][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:14:12.526+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:14:12.540+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000100, start_date=20230315T071355, end_date=20230315T071412
[2023-03-15T07:14:12.563+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:14:12.574+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
