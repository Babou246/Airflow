[2023-03-13T21:08:41.767+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [queued]>
[2023-03-13T21:08:41.779+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [queued]>
[2023-03-13T21:08:41.779+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:08:41.779+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T21:08:41.779+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:08:41.802+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:24+00:00
[2023-03-13T21:08:41.805+0000] {standard_task_runner.py:55} INFO - Started process 54749 to run task
[2023-03-13T21:08:41.810+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:24+00:00', '--job-id', '335', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp3czz7mxj']
[2023-03-13T21:08:41.812+0000] {standard_task_runner.py:83} INFO - Job 335: Subtask Chargement_des_données_in_ELK
[2023-03-13T21:08:41.887+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [running]> on host dev
[2023-03-13T21:08:41.969+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:24+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:24+00:00
[2023-03-13T21:08:41.971+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T21:08:41.972+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T21:08:41.981+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T21:08:42.087+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T21:08:42.394+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T21:09:08.274+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T21:09:08.405+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:08,402][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T21:09:08.415+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:08,415][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T21:09:08.999+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:08,999][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T21:09:11.212+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:11,211][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T21:09:12.169+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:12,169][INFO ][org.reflections.Reflections] Reflections took 143 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T21:09:13.766+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:13,765][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T21:09:14.297+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:14,295][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T21:09:14.549+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:14,549][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T21:09:14.618+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:14,618][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T21:09:14.623+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:14,623][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T21:09:14.906+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:14,905][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T21:09:14.952+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:14,952][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x3caebf3a run>"}
[2023-03-13T21:09:16.308+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:16,307][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.35}
[2023-03-13T21:09:16.476+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:16,475][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T21:09:16.694+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:16,692][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T21:09:18.511+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:18,510][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.042730s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T21:09:18.883+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:18,883][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.134679s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T21:09:19.459+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:19,459][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.535989s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T21:09:29.747+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:29,746][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.364729s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T21:09:36.370+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:36,369][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.315584s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T21:09:40.600+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:40,600][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.229681s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T21:09:48.828+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:48,828][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.179495s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T21:09:51.376+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:51,375][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.135902s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T21:09:56.501+0000] {subprocess.py:93} INFO - [2023-03-13T21:09:56,500][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.195704s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-13T21:10:00.867+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:00,867][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.126376s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-13T21:10:03.438+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:03,438][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.182796s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-13T21:10:08.635+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:08,635][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.194124s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-13T21:10:13.262+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:13,262][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.162345s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-13T21:10:18.174+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:18,174][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.140991s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-13T21:10:22.387+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:22,387][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.173927s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-13T21:10:25.378+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:25,378][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.172008s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-13T21:10:28.917+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:28,917][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.147040s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-13T21:10:34.987+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:34,986][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.175786s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-13T21:10:37.984+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:37,984][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.173619s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 800000
[2023-03-13T21:10:40.518+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:40,518][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.149985s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 850000
[2023-03-13T21:10:43.405+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:43,405][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.223171s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 900000
[2023-03-13T21:10:46.242+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:46,242][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.146513s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 950000
[2023-03-13T21:10:48.924+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:48,924][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.153851s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1000000
[2023-03-13T21:10:51.542+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:51,542][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.144881s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1050000
[2023-03-13T21:10:55.140+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:55,139][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.164486s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1100000
[2023-03-13T21:10:57.923+0000] {subprocess.py:93} INFO - [2023-03-13T21:10:57,923][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.208320s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1150000
[2023-03-13T21:11:00.960+0000] {subprocess.py:93} INFO - [2023-03-13T21:11:00,959][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T21:11:01.078+0000] {subprocess.py:93} INFO - [2023-03-13T21:11:01,078][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T21:11:01.132+0000] {subprocess.py:93} INFO - [2023-03-13T21:11:01,132][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T21:11:01.332+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T21:11:01.365+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000124, start_date=20230313T210841, end_date=20230313T211101
[2023-03-13T21:11:01.424+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T21:11:01.445+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T09:51:28.703+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [queued]>
[2023-03-14T09:51:28.721+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [queued]>
[2023-03-14T09:51:28.722+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:51:28.722+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T09:51:28.722+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:51:28.744+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:24+00:00
[2023-03-14T09:51:28.748+0000] {standard_task_runner.py:55} INFO - Started process 31537 to run task
[2023-03-14T09:51:28.752+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:24+00:00', '--job-id', '579', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp1dswgplo']
[2023-03-14T09:51:28.754+0000] {standard_task_runner.py:83} INFO - Job 579: Subtask Chargement_des_données_in_ELK
[2023-03-14T09:51:28.823+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [running]> on host dev
[2023-03-14T09:51:28.905+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:24+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:24+00:00
[2023-03-14T09:51:28.907+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T09:51:28.908+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T09:51:28.916+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T09:51:29.011+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T09:51:29.281+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T09:51:52.990+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T09:51:53.134+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:53,130][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T09:51:53.147+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:53,146][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T09:51:53.737+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:53,737][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T09:51:55.368+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:55,367][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T09:51:56.227+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:56,227][INFO ][org.reflections.Reflections] Reflections took 134 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T09:51:57.680+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:57,679][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T09:51:58.099+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:58,098][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T09:51:58.296+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:58,295][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T09:51:58.353+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:58,352][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T09:51:58.356+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:58,356][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T09:51:58.565+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:58,565][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T09:51:58.630+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:58,629][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x2a2afb8 run>"}
[2023-03-14T09:51:59.718+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:59,717][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.08}
[2023-03-14T09:51:59.830+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:59,829][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T09:51:59.934+0000] {subprocess.py:93} INFO - [2023-03-14T09:51:59,933][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T09:52:01.268+0000] {subprocess.py:93} INFO - [2023-03-14T09:52:01,268][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.022207s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T09:52:01.428+0000] {subprocess.py:93} INFO - [2023-03-14T09:52:01,428][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-14T09:52:01.429+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T09:52:01.455+0000] {subprocess.py:93} INFO - [2023-03-14T09:52:01,454][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-14T09:52:02.460+0000] {subprocess.py:93} INFO - [2023-03-14T09:52:02,459][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T09:52:02.510+0000] {subprocess.py:93} INFO - [2023-03-14T09:52:02,509][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T09:52:02.555+0000] {subprocess.py:93} INFO - [2023-03-14T09:52:02,555][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T09:52:02.671+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T09:52:02.699+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000124, start_date=20230314T095128, end_date=20230314T095202
[2023-03-14T09:52:02.721+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T09:52:02.735+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:16:54.376+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [queued]>
[2023-03-15T07:16:54.384+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [queued]>
[2023-03-15T07:16:54.384+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:16:54.384+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:16:54.384+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:16:54.396+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:24+00:00
[2023-03-15T07:16:54.398+0000] {standard_task_runner.py:55} INFO - Started process 121351 to run task
[2023-03-15T07:16:54.400+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:24+00:00', '--job-id', '704', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp45hbuc8m']
[2023-03-15T07:16:54.400+0000] {standard_task_runner.py:83} INFO - Job 704: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:16:54.428+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:24+00:00 [running]> on host dev
[2023-03-15T07:16:54.464+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:24+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:24+00:00
[2023-03-15T07:16:54.465+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:16:54.466+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:16:54.469+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:16:54.508+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:16:54.625+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:17:06.033+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:17:06.098+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:06,097][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:17:06.106+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:06,105][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:17:06.327+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:06,327][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:17:07.190+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:07,189][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:17:07.634+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:07,634][INFO ][org.reflections.Reflections] Reflections took 69 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:17:08.359+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,358][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:17:08.577+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,576][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:17:08.666+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,666][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:17:08.690+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,690][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:17:08.691+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,691][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:17:08.766+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,766][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:17:08.798+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:08,798][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0xcb062ba run>"}
[2023-03-15T07:17:09.297+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:09,297][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.5}
[2023-03-15T07:17:09.362+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:09,362][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:17:09.422+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:09,422][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:17:10.146+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:10,146][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.010186s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:17:10.251+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:10,251][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.001188s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:17:10.737+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:10,736][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:17:10.963+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:10,963][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:17:10.986+0000] {subprocess.py:93} INFO - [2023-03-15T07:17:10,985][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:17:11.030+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:17:11.042+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000124, start_date=20230315T071654, end_date=20230315T071711
[2023-03-15T07:17:11.067+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:17:11.080+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
