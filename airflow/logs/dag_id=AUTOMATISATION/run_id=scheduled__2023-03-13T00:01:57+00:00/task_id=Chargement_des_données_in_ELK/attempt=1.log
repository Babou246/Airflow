[2023-03-13T21:32:26.105+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [queued]>
[2023-03-13T21:32:26.117+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [queued]>
[2023-03-13T21:32:26.117+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:32:26.117+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T21:32:26.117+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:32:26.141+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:57+00:00
[2023-03-13T21:32:26.145+0000] {standard_task_runner.py:55} INFO - Started process 60796 to run task
[2023-03-13T21:32:26.149+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:57+00:00', '--job-id', '357', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpm3a5t3m1']
[2023-03-13T21:32:26.151+0000] {standard_task_runner.py:83} INFO - Job 357: Subtask Chargement_des_données_in_ELK
[2023-03-13T21:32:26.222+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [running]> on host dev
[2023-03-13T21:32:26.306+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:57+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:57+00:00
[2023-03-13T21:32:26.308+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T21:32:26.308+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T21:32:26.317+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T21:32:26.405+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T21:32:26.660+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T21:32:48.392+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T21:32:48.498+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:48,495][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T21:32:48.508+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:48,508][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T21:32:48.966+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:48,966][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T21:32:50.578+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:50,576][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T21:32:51.240+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:51,239][INFO ][org.reflections.Reflections] Reflections took 100 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T21:32:52.612+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:52,611][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T21:32:53.113+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:53,111][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T21:32:53.303+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:53,302][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T21:32:53.355+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:53,355][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T21:32:53.358+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:53,358][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T21:32:53.546+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:53,545][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T21:32:53.579+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:53,578][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x39f120a6 run>"}
[2023-03-13T21:32:54.977+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:54,977][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.39}
[2023-03-13T21:32:55.105+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:55,104][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T21:32:55.227+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:55,226][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T21:32:56.619+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:56,618][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.022846s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T21:32:56.842+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:56,841][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.075659s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T21:32:57.261+0000] {subprocess.py:93} INFO - [2023-03-13T21:32:57,261][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.392913s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T21:33:04.805+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:04,804][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.254952s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T21:33:07.341+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:07,341][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.103007s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T21:33:09.911+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:09,911][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.121199s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T21:33:12.251+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:12,251][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.110800s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T21:33:14.885+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:14,884][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.112395s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T21:33:17.437+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:17,436][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.104751s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-13T21:33:19.694+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:19,694][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.130100s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-13T21:33:21.941+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:21,941][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.125321s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-13T21:33:29.423+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:29,423][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.268087s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-13T21:33:37.981+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:37,981][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.148935s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-13T21:33:40.597+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:40,596][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.140806s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-13T21:33:42.838+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:42,838][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.137947s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-13T21:33:45.181+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:45,180][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.140291s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-13T21:33:47.503+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:47,502][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.131382s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-13T21:33:50.474+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:50,473][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.151857s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-13T21:33:52.625+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:52,624][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.145490s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 800000
[2023-03-13T21:33:54.956+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:54,955][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.172439s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 850000
[2023-03-13T21:33:58.077+0000] {subprocess.py:93} INFO - [2023-03-13T21:33:58,077][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.195847s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 900000
[2023-03-13T21:34:00.421+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:00,421][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.176918s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 950000
[2023-03-13T21:34:03.250+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:03,250][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.183723s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1000000
[2023-03-13T21:34:05.511+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:05,511][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.157928s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1050000
[2023-03-13T21:34:08.343+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:08,342][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.171429s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1100000
[2023-03-13T21:34:10.934+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:10,934][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.148452s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1150000
[2023-03-13T21:34:13.614+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:13,614][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T21:34:14.070+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:14,070][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T21:34:14.120+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:14,120][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T21:34:14.297+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T21:34:14.335+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000157, start_date=20230313T213226, end_date=20230313T213414
[2023-03-13T21:34:14.368+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T21:34:14.381+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T09:58:44.244+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [queued]>
[2023-03-14T09:58:44.256+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [queued]>
[2023-03-14T09:58:44.256+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:58:44.256+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T09:58:44.256+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:58:44.278+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:57+00:00
[2023-03-14T09:58:44.281+0000] {standard_task_runner.py:55} INFO - Started process 33911 to run task
[2023-03-14T09:58:44.285+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:57+00:00', '--job-id', '601', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpzb_ie2x5']
[2023-03-14T09:58:44.286+0000] {standard_task_runner.py:83} INFO - Job 601: Subtask Chargement_des_données_in_ELK
[2023-03-14T09:58:44.351+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [running]> on host dev
[2023-03-14T09:58:44.425+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:57+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:57+00:00
[2023-03-14T09:58:44.427+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T09:58:44.428+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T09:58:44.435+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T09:58:44.522+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T09:58:44.776+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T09:59:06.757+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T09:59:06.868+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:06,865][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T09:59:06.878+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:06,878][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T09:59:07.292+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:07,292][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T09:59:08.986+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:08,985][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T09:59:09.598+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:09,597][INFO ][org.reflections.Reflections] Reflections took 100 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T09:59:11.032+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:11,031][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T09:59:11.462+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:11,461][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T09:59:11.657+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:11,657][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T09:59:11.738+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:11,737][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T09:59:11.742+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:11,742][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T09:59:11.958+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:11,957][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T09:59:12.011+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:12,010][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x31643473 run>"}
[2023-03-14T09:59:13.133+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:13,133][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.12}
[2023-03-14T09:59:13.270+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:13,270][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T09:59:13.380+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:13,379][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T09:59:14.808+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:14,807][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.021328s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T09:59:14.988+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:14,988][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-14T09:59:14.988+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T09:59:15.016+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:15,015][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-14T09:59:15.853+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:15,852][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T09:59:15.954+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:15,953][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T09:59:16.001+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:16,001][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T09:59:16.115+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T09:59:16.142+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000157, start_date=20230314T095844, end_date=20230314T095916
[2023-03-14T09:59:16.200+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T09:59:16.216+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:20:36.239+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [queued]>
[2023-03-15T07:20:36.245+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [queued]>
[2023-03-15T07:20:36.245+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:20:36.245+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:20:36.245+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:20:36.256+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:01:57+00:00
[2023-03-15T07:20:36.258+0000] {standard_task_runner.py:55} INFO - Started process 123441 to run task
[2023-03-15T07:20:36.260+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:01:57+00:00', '--job-id', '726', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpihw0ujup']
[2023-03-15T07:20:36.261+0000] {standard_task_runner.py:83} INFO - Job 726: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:20:36.293+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:01:57+00:00 [running]> on host dev
[2023-03-15T07:20:36.341+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:01:57+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:01:57+00:00
[2023-03-15T07:20:36.342+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:20:36.343+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:20:36.347+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:20:36.388+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:20:36.527+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:20:48.944+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:20:49.035+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:49,032][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:20:49.043+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:49,042][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:20:49.383+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:49,383][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:20:50.190+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:50,190][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:20:50.595+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:50,595][INFO ][org.reflections.Reflections] Reflections took 69 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:20:51.300+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,300][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:20:51.602+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,601][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:20:51.761+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,761][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:20:51.808+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,808][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:20:51.811+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,810][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:20:51.927+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,926][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:20:51.952+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:51,952][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x7ab95b91 run>"}
[2023-03-15T07:20:52.526+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:52,525][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.57}
[2023-03-15T07:20:52.599+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:52,599][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:20:52.658+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:52,658][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:20:53.415+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:53,415][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.016839s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:20:53.518+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:53,518][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-15T07:20:53.518+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:20:53.537+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:53,537][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-15T07:20:53.870+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:53,869][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:20:54.201+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:54,201][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:20:54.221+0000] {subprocess.py:93} INFO - [2023-03-15T07:20:54,220][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:20:54.272+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:20:54.286+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000157, start_date=20230315T072036, end_date=20230315T072054
[2023-03-15T07:20:54.303+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:20:54.309+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
