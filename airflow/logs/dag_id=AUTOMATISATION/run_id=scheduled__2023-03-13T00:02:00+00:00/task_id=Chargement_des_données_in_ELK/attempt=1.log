[2023-03-13T21:34:21.099+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [queued]>
[2023-03-13T21:34:21.111+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [queued]>
[2023-03-13T21:34:21.111+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:34:21.111+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T21:34:21.111+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:34:21.139+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:00+00:00
[2023-03-13T21:34:21.142+0000] {standard_task_runner.py:55} INFO - Started process 61172 to run task
[2023-03-13T21:34:21.147+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:00+00:00', '--job-id', '359', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpjs7f__u7']
[2023-03-13T21:34:21.149+0000] {standard_task_runner.py:83} INFO - Job 359: Subtask Chargement_des_données_in_ELK
[2023-03-13T21:34:21.222+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [running]> on host dev
[2023-03-13T21:34:21.314+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:00+00:00
[2023-03-13T21:34:21.316+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T21:34:21.316+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T21:34:21.324+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T21:34:21.412+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T21:34:21.688+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T21:34:43.935+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T21:34:44.059+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:44,056][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T21:34:44.069+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:44,069][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T21:34:44.518+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:44,518][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T21:34:46.700+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:46,697][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T21:34:47.608+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:47,607][INFO ][org.reflections.Reflections] Reflections took 136 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T21:34:49.014+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,013][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T21:34:49.424+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,422][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T21:34:49.618+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,617][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T21:34:49.683+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,683][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T21:34:49.686+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,686][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T21:34:49.902+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,901][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T21:34:49.945+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:49,944][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x27f53cf0 run>"}
[2023-03-13T21:34:51.046+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:51,045][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.1}
[2023-03-13T21:34:51.161+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:51,160][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T21:34:51.263+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:51,262][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T21:34:52.619+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:52,619][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.021564s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T21:34:52.852+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:52,852][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.080592s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T21:34:53.278+0000] {subprocess.py:93} INFO - [2023-03-13T21:34:53,278][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.398454s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T21:35:00.280+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:00,280][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.374481s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T21:35:06.571+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:06,571][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.340753s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T21:35:11.410+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:11,409][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.370839s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T21:35:15.277+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:15,277][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.128719s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T21:35:18.097+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:18,097][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.120771s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T21:35:21.686+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:21,686][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.109033s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-13T21:35:23.913+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:23,913][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.115377s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-13T21:35:27.573+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:27,573][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.133860s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-13T21:35:30.182+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:30,182][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.123111s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-13T21:35:32.708+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:32,707][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.131853s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-13T21:35:35.468+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:35,467][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.135643s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-13T21:35:37.853+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:37,853][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.126069s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-13T21:35:40.141+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:40,141][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.131544s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-13T21:35:43.536+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:43,535][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.343730s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-13T21:35:50.930+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:50,930][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.161822s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-13T21:35:53.173+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:53,172][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.149277s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 800000
[2023-03-13T21:35:55.338+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:55,338][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.147562s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 850000
[2023-03-13T21:35:57.538+0000] {subprocess.py:93} INFO - [2023-03-13T21:35:57,537][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.180842s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 900000
[2023-03-13T21:36:00.337+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:00,337][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.174814s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 950000
[2023-03-13T21:36:02.723+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:02,723][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.197899s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1000000
[2023-03-13T21:36:05.415+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:05,415][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.155390s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1050000
[2023-03-13T21:36:08.011+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:08,010][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.201203s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1100000
[2023-03-13T21:36:10.177+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:10,177][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.150495s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1150000
[2023-03-13T21:36:12.915+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:12,915][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T21:36:13.298+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:13,297][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T21:36:13.353+0000] {subprocess.py:93} INFO - [2023-03-13T21:36:13,353][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T21:36:13.561+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T21:36:13.595+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000200, start_date=20230313T213421, end_date=20230313T213613
[2023-03-13T21:36:13.639+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T21:36:13.653+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T09:59:22.849+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [queued]>
[2023-03-14T09:59:22.860+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [queued]>
[2023-03-14T09:59:22.860+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:59:22.860+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T09:59:22.861+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T09:59:22.881+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:00+00:00
[2023-03-14T09:59:22.884+0000] {standard_task_runner.py:55} INFO - Started process 34090 to run task
[2023-03-14T09:59:22.888+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:00+00:00', '--job-id', '603', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp3ew7ci78']
[2023-03-14T09:59:22.890+0000] {standard_task_runner.py:83} INFO - Job 603: Subtask Chargement_des_données_in_ELK
[2023-03-14T09:59:22.956+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [running]> on host dev
[2023-03-14T09:59:23.028+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:00+00:00
[2023-03-14T09:59:23.030+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T09:59:23.031+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T09:59:23.039+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T09:59:23.126+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T09:59:23.377+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T09:59:45.034+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T09:59:45.139+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:45,136][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T09:59:45.148+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:45,148][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T09:59:45.545+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:45,545][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T09:59:47.222+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:47,221][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T09:59:48.072+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:48,071][INFO ][org.reflections.Reflections] Reflections took 125 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T09:59:49.462+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:49,461][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T09:59:49.861+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:49,859][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T09:59:50.043+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:50,043][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T09:59:50.100+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:50,100][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T09:59:50.104+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:50,103][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T09:59:50.280+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:50,279][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T09:59:50.368+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:50,367][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x72b707ed run>"}
[2023-03-14T09:59:51.501+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:51,500][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.13}
[2023-03-14T09:59:51.623+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:51,622][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T09:59:51.731+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:51,730][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T09:59:53.084+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:53,083][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.021070s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T09:59:53.314+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:53,314][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-14T09:59:53.315+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T09:59:53.346+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:53,346][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-14T09:59:54.189+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:54,189][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T09:59:54.315+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:54,314][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T09:59:54.370+0000] {subprocess.py:93} INFO - [2023-03-14T09:59:54,370][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T09:59:54.473+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T09:59:54.510+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000200, start_date=20230314T095922, end_date=20230314T095954
[2023-03-14T09:59:54.563+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T09:59:54.582+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:20:57.589+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [queued]>
[2023-03-15T07:20:57.598+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [queued]>
[2023-03-15T07:20:57.599+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:20:57.599+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:20:57.599+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:20:57.617+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:00+00:00
[2023-03-15T07:20:57.621+0000] {standard_task_runner.py:55} INFO - Started process 123691 to run task
[2023-03-15T07:20:57.624+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:00+00:00', '--job-id', '728', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpl2s2n5ss']
[2023-03-15T07:20:57.626+0000] {standard_task_runner.py:83} INFO - Job 728: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:20:57.686+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:00+00:00 [running]> on host dev
[2023-03-15T07:20:57.743+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:00+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:00+00:00
[2023-03-15T07:20:57.744+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:20:57.745+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:20:57.753+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:20:57.798+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:20:57.976+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:21:12.115+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:21:12.198+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:12,197][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:21:12.204+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:12,203][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:21:12.456+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:12,455][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:21:13.556+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:13,555][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:21:14.047+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:14,046][INFO ][org.reflections.Reflections] Reflections took 64 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:21:14.845+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:14,845][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:21:15.085+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:15,084][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:21:15.217+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:15,217][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:21:15.258+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:15,258][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:21:15.260+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:15,260][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:21:15.368+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:15,368][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:21:15.392+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:15,392][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x2967a15d run>"}
[2023-03-15T07:21:16.073+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:16,072][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.68}
[2023-03-15T07:21:16.177+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:16,176][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:21:16.221+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:16,221][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:21:17.291+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:17,290][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.016684s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:21:17.425+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:17,425][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-15T07:21:17.425+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:21:17.447+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:17,447][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-15T07:21:18.310+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:18,309][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:21:18.782+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:18,782][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:21:18.810+0000] {subprocess.py:93} INFO - [2023-03-15T07:21:18,809][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:21:18.874+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:21:18.892+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000200, start_date=20230315T072057, end_date=20230315T072118
[2023-03-15T07:21:18.911+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:21:18.922+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
