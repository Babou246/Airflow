[2023-03-13T21:38:26.250+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [queued]>
[2023-03-13T21:38:26.262+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [queued]>
[2023-03-13T21:38:26.262+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:38:26.263+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T21:38:26.263+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:38:26.286+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:06+00:00
[2023-03-13T21:38:26.290+0000] {standard_task_runner.py:55} INFO - Started process 61939 to run task
[2023-03-13T21:38:26.294+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:06+00:00', '--job-id', '363', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpi67nnmxu']
[2023-03-13T21:38:26.296+0000] {standard_task_runner.py:83} INFO - Job 363: Subtask Chargement_des_données_in_ELK
[2023-03-13T21:38:26.368+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [running]> on host dev
[2023-03-13T21:38:26.457+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:06+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:06+00:00
[2023-03-13T21:38:26.459+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T21:38:26.460+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T21:38:26.468+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T21:38:26.561+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T21:38:26.830+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T21:38:50.576+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T21:38:50.713+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:50,710][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T21:38:50.724+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:50,723][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T21:38:51.227+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:51,227][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T21:38:53.314+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:53,309][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T21:38:54.229+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:54,228][INFO ][org.reflections.Reflections] Reflections took 151 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T21:38:55.908+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:55,907][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T21:38:56.378+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:56,375][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T21:38:56.585+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:56,584][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T21:38:56.646+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:56,646][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T21:38:56.650+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:56,649][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T21:38:56.854+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:56,853][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T21:38:56.911+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:56,910][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x716f6518 run>"}
[2023-03-13T21:38:58.118+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:58,118][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.2}
[2023-03-13T21:38:58.246+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:58,246][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T21:38:58.356+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:58,356][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T21:38:59.839+0000] {subprocess.py:93} INFO - [2023-03-13T21:38:59,838][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.025923s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T21:39:00.089+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:00,089][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.090527s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T21:39:00.516+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:00,516][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.394588s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T21:39:09.344+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:09,344][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.313842s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T21:39:12.452+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:12,451][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.179438s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T21:39:15.327+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:15,327][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.111962s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T21:39:18.139+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:18,139][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.135627s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T21:39:20.639+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:20,639][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.108288s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T21:39:23.457+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:23,457][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.134232s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-13T21:39:26.082+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:26,082][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.137689s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-13T21:39:28.425+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:28,425][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.104826s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-13T21:39:30.697+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:30,697][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.116459s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-13T21:39:33.920+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:33,920][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.171561s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-13T21:39:36.434+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:36,434][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.144103s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-13T21:39:39.154+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:39,154][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.160311s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-13T21:39:41.571+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:41,571][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.163145s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-13T21:39:44.137+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:44,137][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.181316s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-13T21:39:46.728+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:46,728][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.174083s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-13T21:39:49.385+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:49,385][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.177689s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 800000
[2023-03-13T21:39:51.828+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:51,828][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.169773s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 850000
[2023-03-13T21:39:55.200+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:55,200][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.172439s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 900000
[2023-03-13T21:39:57.580+0000] {subprocess.py:93} INFO - [2023-03-13T21:39:57,580][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.167491s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 950000
[2023-03-13T21:40:01.225+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:01,225][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.154325s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1000000
[2023-03-13T21:40:03.892+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:03,892][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.170162s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1050000
[2023-03-13T21:40:06.808+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:06,808][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.177256s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1100000
[2023-03-13T21:40:09.170+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:09,170][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.154084s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1150000
[2023-03-13T21:40:11.874+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:11,873][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T21:40:12.174+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:12,174][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T21:40:12.224+0000] {subprocess.py:93} INFO - [2023-03-13T21:40:12,223][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T21:40:12.385+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T21:40:12.418+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000206, start_date=20230313T213826, end_date=20230313T214012
[2023-03-13T21:40:12.463+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T21:40:12.477+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T10:00:40.853+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [queued]>
[2023-03-14T10:00:40.866+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [queued]>
[2023-03-14T10:00:40.867+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T10:00:40.867+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T10:00:40.867+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T10:00:40.888+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:06+00:00
[2023-03-14T10:00:40.893+0000] {standard_task_runner.py:55} INFO - Started process 34575 to run task
[2023-03-14T10:00:40.897+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:06+00:00', '--job-id', '607', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmptzlmyd94']
[2023-03-14T10:00:40.899+0000] {standard_task_runner.py:83} INFO - Job 607: Subtask Chargement_des_données_in_ELK
[2023-03-14T10:00:40.971+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [running]> on host dev
[2023-03-14T10:00:41.046+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:06+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:06+00:00
[2023-03-14T10:00:41.048+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T10:00:41.049+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T10:00:41.057+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T10:00:41.147+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T10:00:41.395+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T10:01:04.120+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T10:01:04.276+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:04,273][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T10:01:04.288+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:04,287][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T10:01:04.703+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:04,703][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T10:01:06.364+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:06,363][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T10:01:07.138+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:07,137][INFO ][org.reflections.Reflections] Reflections took 139 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T10:01:08.606+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:08,605][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T10:01:09.065+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:09,063][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T10:01:09.268+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:09,268][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T10:01:09.338+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:09,338][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T10:01:09.342+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:09,342][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T10:01:09.543+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:09,542][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T10:01:09.587+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:09,586][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x4774b08b run>"}
[2023-03-14T10:01:10.827+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:10,826][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.23}
[2023-03-14T10:01:10.945+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:10,944][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T10:01:11.052+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:11,051][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T10:01:12.546+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:12,545][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.031590s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T10:01:12.772+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:12,771][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-14T10:01:12.772+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T10:01:12.803+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:12,802][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-14T10:01:13.446+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:13,445][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T10:01:13.625+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:13,624][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T10:01:13.681+0000] {subprocess.py:93} INFO - [2023-03-14T10:01:13,681][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T10:01:13.796+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T10:01:13.824+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000206, start_date=20230314T100040, end_date=20230314T100113
[2023-03-14T10:01:13.884+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T10:01:13.899+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:21:48.615+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [queued]>
[2023-03-15T07:21:48.623+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [queued]>
[2023-03-15T07:21:48.623+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:21:48.623+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:21:48.623+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:21:48.638+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:06+00:00
[2023-03-15T07:21:48.640+0000] {standard_task_runner.py:55} INFO - Started process 124327 to run task
[2023-03-15T07:21:48.642+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:06+00:00', '--job-id', '732', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp4y77sx8l']
[2023-03-15T07:21:48.644+0000] {standard_task_runner.py:83} INFO - Job 732: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:21:48.679+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:06+00:00 [running]> on host dev
[2023-03-15T07:21:48.727+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:06+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:06+00:00
[2023-03-15T07:21:48.728+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:21:48.729+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:21:48.736+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:21:48.779+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:21:48.926+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:22:04.117+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:22:04.210+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:04,207][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:22:04.218+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:04,217][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:22:04.470+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:04,470][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:22:05.390+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:05,378][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:22:05.882+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:05,882][INFO ][org.reflections.Reflections] Reflections took 57 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:22:06.898+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:06,898][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:22:07.235+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:07,212][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:22:07.410+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:07,410][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:22:07.451+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:07,450][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:22:07.454+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:07,453][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:22:07.615+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:07,614][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:22:07.655+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:07,655][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x1d3d7be7 run>"}
[2023-03-15T07:22:08.261+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:08,261][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.6}
[2023-03-15T07:22:08.346+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:08,346][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:22:08.423+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:08,422][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:22:09.352+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:09,352][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.013228s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:22:09.465+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:09,465][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.003947s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:22:09.711+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:09,711][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.219089s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-15T07:22:13.548+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:13,548][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:22:14.010+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:14,010][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:22:14.040+0000] {subprocess.py:93} INFO - [2023-03-15T07:22:14,040][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:22:14.418+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:22:14.435+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000206, start_date=20230315T072148, end_date=20230315T072214
[2023-03-15T07:22:14.486+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:22:14.493+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
