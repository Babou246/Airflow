[2023-03-13T21:57:15.413+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [queued]>
[2023-03-13T21:57:15.424+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [queued]>
[2023-03-13T21:57:15.425+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:57:15.425+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-13T21:57:15.425+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-13T21:57:15.449+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:33+00:00
[2023-03-13T21:57:15.452+0000] {standard_task_runner.py:55} INFO - Started process 66531 to run task
[2023-03-13T21:57:15.456+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:33+00:00', '--job-id', '381', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmpler8kx3a']
[2023-03-13T21:57:15.457+0000] {standard_task_runner.py:83} INFO - Job 381: Subtask Chargement_des_données_in_ELK
[2023-03-13T21:57:15.526+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [running]> on host dev
[2023-03-13T21:57:15.613+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:33+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:33+00:00
[2023-03-13T21:57:15.614+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-13T21:57:15.615+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-13T21:57:15.623+0000] {subprocess.py:86} INFO - Output:
[2023-03-13T21:57:15.712+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-13T21:57:15.992+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-13T21:57:37.993+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-13T21:57:38.114+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:38,111][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-13T21:57:38.124+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:38,123][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-13T21:57:38.618+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:38,618][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-13T21:57:40.370+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:40,368][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-13T21:57:41.200+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:41,200][INFO ][org.reflections.Reflections] Reflections took 119 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-13T21:57:42.613+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:42,612][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-13T21:57:43.024+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:43,021][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-13T21:57:43.216+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:43,216][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-13T21:57:43.285+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:43,285][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-13T21:57:43.289+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:43,289][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-13T21:57:43.476+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:43,475][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-13T21:57:43.532+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:43,532][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x60375c2a run>"}
[2023-03-13T21:57:44.683+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:44,682][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.14}
[2023-03-13T21:57:44.815+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:44,814][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-13T21:57:44.910+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:44,909][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-13T21:57:46.273+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:46,273][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.021607s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-13T21:57:46.508+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:46,508][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.089654s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-13T21:57:46.928+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:46,927][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.394323s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-13T21:57:57.773+0000] {subprocess.py:93} INFO - [2023-03-13T21:57:57,772][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.375373s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 50000
[2023-03-13T21:58:01.524+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:01,524][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.349763s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 100000
[2023-03-13T21:58:04.519+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:04,518][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.148580s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 150000
[2023-03-13T21:58:08.453+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:08,453][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.109790s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 200000
[2023-03-13T21:58:11.396+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:11,396][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.212252s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 250000
[2023-03-13T21:58:14.048+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:14,048][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.132205s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 300000
[2023-03-13T21:58:16.363+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:16,363][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.133058s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 350000
[2023-03-13T21:58:18.703+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:18,703][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.126498s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 400000
[2023-03-13T21:58:21.120+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:21,120][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.122422s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 450000
[2023-03-13T21:58:23.335+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:23,335][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.112956s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 500000
[2023-03-13T21:58:25.612+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:25,612][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.140195s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 550000
[2023-03-13T21:58:27.883+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:27,883][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.161369s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 600000
[2023-03-13T21:58:30.157+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:30,157][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.151075s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 650000
[2023-03-13T21:58:32.476+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:32,476][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.141574s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 700000
[2023-03-13T21:58:35.023+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:35,023][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.151069s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 750000
[2023-03-13T21:58:37.760+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:37,760][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.184214s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 800000
[2023-03-13T21:58:40.381+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:40,380][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.287731s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 850000
[2023-03-13T21:58:42.879+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:42,879][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.152355s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 900000
[2023-03-13T21:58:45.383+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:45,382][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.159882s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 950000
[2023-03-13T21:58:48.663+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:48,663][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.164532s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1000000
[2023-03-13T21:58:51.153+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:51,153][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.211407s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1050000
[2023-03-13T21:58:54.277+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:54,276][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.184801s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1100000
[2023-03-13T21:58:56.525+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:56,524][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.160861s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 1150000
[2023-03-13T21:58:58.543+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:58,542][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-13T21:58:58.825+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:58,824][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-13T21:58:58.871+0000] {subprocess.py:93} INFO - [2023-03-13T21:58:58,871][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-13T21:58:59.052+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-13T21:58:59.086+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000233, start_date=20230313T215715, end_date=20230313T215859
[2023-03-13T21:58:59.148+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-13T21:58:59.163+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-14T10:06:34.373+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [queued]>
[2023-03-14T10:06:34.384+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [queued]>
[2023-03-14T10:06:34.385+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T10:06:34.385+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-14T10:06:34.385+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-14T10:06:34.408+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:33+00:00
[2023-03-14T10:06:34.411+0000] {standard_task_runner.py:55} INFO - Started process 36577 to run task
[2023-03-14T10:06:34.415+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:33+00:00', '--job-id', '625', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmprrrv16no']
[2023-03-14T10:06:34.417+0000] {standard_task_runner.py:83} INFO - Job 625: Subtask Chargement_des_données_in_ELK
[2023-03-14T10:06:34.481+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [running]> on host dev
[2023-03-14T10:06:34.553+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:33+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:33+00:00
[2023-03-14T10:06:34.555+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-14T10:06:34.556+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-14T10:06:34.564+0000] {subprocess.py:86} INFO - Output:
[2023-03-14T10:06:34.651+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-14T10:06:34.928+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-14T10:06:55.874+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-14T10:06:56.002+0000] {subprocess.py:93} INFO - [2023-03-14T10:06:55,998][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-14T10:06:56.013+0000] {subprocess.py:93} INFO - [2023-03-14T10:06:56,012][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-14T10:06:56.408+0000] {subprocess.py:93} INFO - [2023-03-14T10:06:56,407][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-14T10:06:57.935+0000] {subprocess.py:93} INFO - [2023-03-14T10:06:57,932][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-14T10:06:58.920+0000] {subprocess.py:93} INFO - [2023-03-14T10:06:58,920][INFO ][org.reflections.Reflections] Reflections took 141 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-14T10:07:00.301+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:00,300][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-14T10:07:00.687+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:00,684][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-14T10:07:00.915+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:00,914][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-14T10:07:00.978+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:00,978][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-14T10:07:00.982+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:00,982][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-14T10:07:01.177+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:01,176][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-14T10:07:01.237+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:01,236][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x15ad6a27 run>"}
[2023-03-14T10:07:02.353+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:02,352][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>1.11}
[2023-03-14T10:07:02.465+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:02,465][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-14T10:07:02.572+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:02,571][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-14T10:07:03.884+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:03,883][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.023463s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-14T10:07:04.108+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:04,108][ERROR][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Java::OrgPostgresqlUtil::PSQLException: ERROR: relation "customers" does not exist
[2023-03-14T10:07:04.109+0000] {subprocess.py:93} INFO -   Position : 48: SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-14T10:07:04.151+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:04,147][WARN ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] Exception when executing JDBC query {:exception=>"Java::OrgPostgresqlUtil::PSQLException: ERROR: relation \"customers\" does not exist\n  Position : 48"}
[2023-03-14T10:07:05.084+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:05,084][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-14T10:07:05.154+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:05,154][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-14T10:07:05.213+0000] {subprocess.py:93} INFO - [2023-03-14T10:07:05,212][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-14T10:07:05.329+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-14T10:07:05.355+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000233, start_date=20230314T100634, end_date=20230314T100705
[2023-03-14T10:07:05.381+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-14T10:07:05.395+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
[2023-03-15T07:26:30.477+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [queued]>
[2023-03-15T07:26:30.482+0000] {taskinstance.py:1083} INFO - Dependencies all met for <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [queued]>
[2023-03-15T07:26:30.482+0000] {taskinstance.py:1279} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:26:30.482+0000] {taskinstance.py:1280} INFO - Starting attempt 1 of 4
[2023-03-15T07:26:30.482+0000] {taskinstance.py:1281} INFO - 
--------------------------------------------------------------------------------
[2023-03-15T07:26:30.493+0000] {taskinstance.py:1300} INFO - Executing <Task(BashOperator): Chargement_des_données_in_ELK> on 2023-03-13 00:02:33+00:00
[2023-03-15T07:26:30.495+0000] {standard_task_runner.py:55} INFO - Started process 127472 to run task
[2023-03-15T07:26:30.497+0000] {standard_task_runner.py:82} INFO - Running: ['airflow', 'tasks', 'run', 'AUTOMATISATION', 'Chargement_des_données_in_ELK', 'scheduled__2023-03-13T00:02:33+00:00', '--job-id', '750', '--raw', '--subdir', 'DAGS_FOLDER/main.py', '--cfg-path', '/tmp/tmp9vyjyjzy']
[2023-03-15T07:26:30.498+0000] {standard_task_runner.py:83} INFO - Job 750: Subtask Chargement_des_données_in_ELK
[2023-03-15T07:26:30.531+0000] {task_command.py:388} INFO - Running <TaskInstance: AUTOMATISATION.Chargement_des_données_in_ELK scheduled__2023-03-13T00:02:33+00:00 [running]> on host dev
[2023-03-15T07:26:30.567+0000] {taskinstance.py:1507} INFO - Exporting the following env vars:
AIRFLOW_CTX_DAG_OWNER=airflow
AIRFLOW_CTX_DAG_ID=AUTOMATISATION
AIRFLOW_CTX_TASK_ID=Chargement_des_données_in_ELK
AIRFLOW_CTX_EXECUTION_DATE=2023-03-13T00:02:33+00:00
AIRFLOW_CTX_TRY_NUMBER=1
AIRFLOW_CTX_DAG_RUN_ID=scheduled__2023-03-13T00:02:33+00:00
[2023-03-15T07:26:30.568+0000] {subprocess.py:63} INFO - Tmp dir root location: 
 /tmp
[2023-03-15T07:26:30.569+0000] {subprocess.py:75} INFO - Running command: ['/usr/bin/bash', '-c', 'echo dev | sudo -S /usr/share/logstash/bin/logstash --path.settings=/etc/logstash/ -f /etc/logstash/conf.d/data.conf']
[2023-03-15T07:26:30.573+0000] {subprocess.py:86} INFO - Output:
[2023-03-15T07:26:30.608+0000] {subprocess.py:93} INFO - [sudo] Mot de passe de dev : Using bundled JDK: /usr/share/logstash/jdk
[2023-03-15T07:26:30.745+0000] {subprocess.py:93} INFO - OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
[2023-03-15T07:26:43.335+0000] {subprocess.py:93} INFO - Sending Logstash logs to /var/log/logstash which is now configured via log4j2.properties
[2023-03-15T07:26:43.396+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:43,394][INFO ][logstash.runner          ] Log4j configuration path used is: /etc/logstash/log4j2.properties
[2023-03-15T07:26:43.402+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:43,401][INFO ][logstash.runner          ] Starting Logstash {"logstash.version"=>"7.15.2", "jruby.version"=>"jruby 9.2.19.0 (2.5.8) 2021-06-15 55810c552b OpenJDK 64-Bit Server VM 11.0.12+7 on 11.0.12+7 +indy +jit [linux-x86_64]"}
[2023-03-15T07:26:43.680+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:43,680][WARN ][logstash.config.source.multilocal] Ignoring the 'pipelines.yml' file because modules or command line options are specified
[2023-03-15T07:26:44.604+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:44,603][INFO ][logstash.agent           ] Successfully started Logstash API endpoint {:port=>9600}
[2023-03-15T07:26:45.050+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:45,050][INFO ][org.reflections.Reflections] Reflections took 58 ms to scan 1 urls, producing 120 keys and 417 values
[2023-03-15T07:26:45.802+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:45,801][INFO ][logstash.outputs.elasticsearch][main] New Elasticsearch output {:class=>"LogStash::Outputs::ElasticSearch", :hosts=>["//localhost:9200"]}
[2023-03-15T07:26:46.045+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,044][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch pool URLs updated {:changes=>{:removed=>[], :added=>[http://localhost:9200/]}}
[2023-03-15T07:26:46.140+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,140][WARN ][logstash.outputs.elasticsearch][main] Restored connection to ES instance {:url=>"http://localhost:9200/"}
[2023-03-15T07:26:46.170+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,170][INFO ][logstash.outputs.elasticsearch][main] Elasticsearch version determined (7.15.2) {:es_version=>7}
[2023-03-15T07:26:46.172+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,172][WARN ][logstash.outputs.elasticsearch][main] Detected a 6.x and above cluster: the `type` event field won't be used to determine the document _type {:es_version=>7}
[2023-03-15T07:26:46.270+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,269][INFO ][logstash.outputs.elasticsearch][main] Using a default mapping template {:es_version=>7, :ecs_compatibility=>:disabled}
[2023-03-15T07:26:46.301+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,301][INFO ][logstash.javapipeline    ][main] Starting pipeline {:pipeline_id=>"main", "pipeline.workers"=>8, "pipeline.batch.size"=>125, "pipeline.batch.delay"=>50, "pipeline.max_inflight"=>1000, "pipeline.sources"=>["/etc/logstash/conf.d/data.conf"], :thread=>"#<Thread:0x5ad891ec run>"}
[2023-03-15T07:26:46.818+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,818][INFO ][logstash.javapipeline    ][main] Pipeline Java execution initialization time {"seconds"=>0.51}
[2023-03-15T07:26:46.877+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,877][INFO ][logstash.javapipeline    ][main] Pipeline started {"pipeline.id"=>"main"}
[2023-03-15T07:26:46.936+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:46,935][INFO ][logstash.agent           ] Pipelines running {:count=>1, :running_pipelines=>[:main], :non_running_pipelines=>[]}
[2023-03-15T07:26:47.606+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:47,606][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.016209s) SELECT CAST(current_setting('server_version_num') AS integer) AS v
[2023-03-15T07:26:47.713+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:47,713][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.002481s) SELECT count(*) AS "count" FROM (SELECT * FROM customers) AS "t1" LIMIT 1
[2023-03-15T07:26:47.849+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:47,848][INFO ][logstash.inputs.jdbc     ][main][afa454a497099ce3438919c7cfc7ae10a3b3980082608321cda443e0b5f70dbd] (0.109182s) SELECT * FROM (SELECT * FROM customers) AS "t1" LIMIT 50000 OFFSET 0
[2023-03-15T07:26:50.237+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:50,236][INFO ][logstash.javapipeline    ][main] Pipeline terminated {"pipeline.id"=>"main"}
[2023-03-15T07:26:50.487+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:50,487][INFO ][logstash.pipelinesregistry] Removed pipeline from registry successfully {:pipeline_id=>:main}
[2023-03-15T07:26:50.508+0000] {subprocess.py:93} INFO - [2023-03-15T07:26:50,508][INFO ][logstash.runner          ] Logstash shut down.
[2023-03-15T07:26:50.567+0000] {subprocess.py:97} INFO - Command exited with return code 0
[2023-03-15T07:26:50.581+0000] {taskinstance.py:1318} INFO - Marking task as SUCCESS. dag_id=AUTOMATISATION, task_id=Chargement_des_données_in_ELK, execution_date=20230313T000233, start_date=20230315T072630, end_date=20230315T072650
[2023-03-15T07:26:50.628+0000] {local_task_job.py:208} INFO - Task exited with return code 0
[2023-03-15T07:26:50.642+0000] {taskinstance.py:2578} INFO - 0 downstream tasks scheduled from follow-on schedule check
